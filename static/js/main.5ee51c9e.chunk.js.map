{"version":3,"sources":["constants/colors.js","assets/white.png","assets/green.png","assets/red.png","assets/black.png","assets/wild.png","components/ColorIcon.js","assets/blue.png","components/Coin.js","objects/Wallet.js","utils.js","components/GameCard.js","constants/defaults.js","components/MiniCard.js","components/CardModal.js","components/Board.js","objects/BankBase.js","components/Bank.js","components/Noblemen.js","components/Player.js","components/ReturnCoinsModal.js","components/History.js","layouts/desktop.js","objects/PlayerBase.js","app/Game.js","app/NavBar.js","objects/Price.js","objects/NobleBase.js","objects/Mine.js","objects/StateMachine.js","objects/GameBase.js","app/App.js","index.js"],"names":["WHITE","BLUE","GREEN","RED","BLACK","WILD","COLORS_NO_WILD","ColorIcon","props","color","size","floated","imgSrc","whiteIcon","greenIcon","redIcon","blackIcon","wildIcon","classNames","push","className","join","src","Coin","onClick","disabled","children","coinContainerClassNames","circleClassNames","Wallet","startingValue","this","white","blue","green","red","black","CoinWallet","startingBalance","wild","CardWallet","renderPrice","price","type","Object","entries","map","amt","GameCard","displayClass","selectable","isAbleToBuy","card","player","cards","newWallet","forEach","remainder","length","calculateCharge","wallet","coins","chargeWallet","swap","A","i","j","temp","shuffle","n","k","Math","floor","random","rank","array","attribute","slice","sort","a","b","Card","Content","Header","textAlign","points","Description","MAX_BANK_COINS","2","3","4","NUM_PLAYERS_LIST","POINTS_TO_WIN_LIST","MiniCard","fluid","DeckModal","level","deck","players","currentPlayerIdx","useState","open","setOpen","currentPlayer","handleReserve","triggerComponent","Modal","onClose","onOpen","trigger","Actions","Button","content","reserved","GameCardModal","column","index","handleReserveClick","handleBuyClick","position","undefined","positive","Board","board","decks","handleBuyFromBoard","handleReserveFromDeck","handleReserveFromBoard","finished","rows","row","deckModal","cols","col","Grid","Row","columns","Column","width","Group","itemsPerRow","reverse","BankBase","numPlayers","Bank","bank","handleCoinTransaction","idx","count","Container","ModalPickCoins","handleCoinTake","bind","handleCoinReturn","state","bankCoins","tempCoins","bankCoinsSelectable","initBankCoinsSelectable","prevProps","prevState","setState","colorToTake","newBank","assign","newBankWallet","newTempCoins","newBankCoinsSelectable","sum","console","log","colorToReturn","bankQty","tempQty","bankCoinButton","tempCoinButton","handleCancel","handleConfirm","React","Component","Noble","as","Noblemen","noblemen","includesList","nobles","noble","ModalNoblemen","Player","coin","cardArray","name","ModalPlayerDetails","cardList","values","List","Item","celled","horizontal","ReturnCoinsModal","handleGiveToBank","handleReturnToPlayer","playerCoins","numPlayerCoins","isGiveToBank","newPlayerCoins","handleCoinMovement","playerCoinButton","History","status","moves","DesktopLayout","PlayerBase","Game","handleBuyFromReservation","handleNoblemenSelection","game","pointsToWin","lifecycle","stateMachine","startOfTurn","returnCoinsModalOpen","noblemenSelectionOpen","selectableNoblemen","description","listSelectableNoblemen","any","endOfTurn","handleEndTurn","handleEndRound","handleEndGame","transactionAmountWallet","isPlayerCollecting","collectCoins","returnCoins","newLifecycle","newPlayers","newPlayer","keys","selectNoble","buyFromBoard","chargeAmtWallet","addPoints","newDecks","newBoard","replenishBoard","pop","alert","buyFromReservation","splice","reserveFromDecks","reserve","reserveFromBoard","isDisplayed","nobleIndex","newNobles","newNoble","addNoble","nextLifecycle","endOfRound","isWinner","endOfGame","playerListRanked","stackable","Divider","NavBar","createNewGame","Menu","header","ModalNewGame","localNumPlayers","setLocalNumPlayers","localPointsToWin","setLocalPointsToWin","getDropdownOptions","prefix","listOptions","option","key","text","value","Dropdown","defaultValue","selection","options","onChange","e","Price","NobleBase","Mine","StateMachine","startOfRound","startOfGame","GameBase","createPlayerBases","createDecks","createBoard","createNobles","Array","fill","cardDataList","createCards","cardData","nobleData","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ee51c9e.chunk.js","sourcesContent":["export const WHITE = 'white';\r\nexport const BLUE = 'blue';\r\nexport const GREEN = 'green';\r\nexport const RED = 'red';\r\nexport const BLACK = 'black';\r\nexport const WILD = 'wild';\r\nexport const COLORS_NO_WILD = [WHITE, BLUE, GREEN, RED, BLACK];\r\nexport const COLORS = [WHITE, BLUE, GREEN, RED, BLACK, WILD];","export default __webpack_public_path__ + \"static/media/white.8864f4fa.png\";","export default __webpack_public_path__ + \"static/media/green.a2a2ebd4.png\";","export default __webpack_public_path__ + \"static/media/red.72399eb9.png\";","export default __webpack_public_path__ + \"static/media/black.38e80221.png\";","export default __webpack_public_path__ + \"static/media/wild.d0cbd94e.png\";","import { WHITE, BLUE, GREEN, RED, BLACK, WILD } from \"../constants/colors\";\r\nimport whiteIcon from '../assets/white.png';\r\nimport blueIcon from '../assets/blue.png';\r\nimport greenIcon from '../assets/green.png';\r\nimport redIcon from '../assets/red.png';\r\nimport blackIcon from '../assets/black.png';\r\nimport wildIcon from '../assets/wild.png';\r\n\r\nexport default function ColorIcon(props) {\r\n  const { color, size, floated } = props;\r\n  let imgSrc = null;\r\n  if (color === WHITE) {\r\n    imgSrc = whiteIcon;\r\n  } else if (color === BLUE) {\r\n    imgSrc = blueIcon;\r\n  } else if (color === GREEN) {\r\n    imgSrc = greenIcon;\r\n  } else if (color === RED) {\r\n    imgSrc = redIcon;\r\n  } else if (color === BLACK) {\r\n    imgSrc = blackIcon;\r\n  } else if (color === WILD) {\r\n    imgSrc = wildIcon;\r\n  }\r\n  const classNames = ['icon'];\r\n  if (size) {\r\n    classNames.push(size)\r\n  }\r\n  if (floated) {\r\n    classNames.push(`floated ${floated}`)\r\n  }\r\n  return (\r\n    <img className={classNames.join(\" \")} src={imgSrc} />\r\n  )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABO2SURBVHhe7d3LjhxXcgZg8SaKQ3pGHsMXGOONF7MgvNMLzGvMK/olvPNOW76CNgMbEkYaWeLFp1SHYrPZ1ZVZlZeIE98HEJkFCKQ6M0/En5FV1Z8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATwoG/DePny63d99yqvXn0V7mcDIJ9R+9Ju/zNLHdBrCAkAtVXuRZv9oxEO8hzCAcAY9J+7rfqPZDvo5wgFALHpO9Ot8hePdgJOEQgA9lOl1xys0W8W/QsrnYxThAKAdegxy/aYRf4iJ+U0gQDgMnrLaUv0lmv/goftBL3p+5whDADcT9OfrvWUR23z9vhqvmsa0hftRP2t73MBgQCoTsO/Tusjz9rmx+OreS5tQM/bSftr32cBwgBQhaa/rNY/XrTN98dX013SdH7bTt63fZ+VCATAKDT89bWe8bu2+e74apq5TeZBO5EXP29gPkEAyErj31brFw/bZvIxn9VcnMx9CQNAdPrEvub0icn/oZMaizAARKE/xDK1P0z6j5zc2IQBYGv6QmxT+oIAMBBBAFibfpDDIgHAyc5JGACWog/kdK4PCAAFCAPAXGp/flcFABfAWAQB4Bx1fyz31X0BoCBBALhNvR/TRQHAxTC+dmHM+tIIYCzqfA2nQoAAwC9MBaAO9b2WWQHAxVGXIADjUtvruqu2CwDcSRCAcajp3FXTD8+A4ROHgqFoQGqHX95mHXPSJ4nAxcIppgIQnxrOKbdruADAbIIAxKN2c44AwGIEAdifms1UAgCLEwRge2o1c92u1R+9CdAFxSX6dSMEwDZ+eXNf34fJbl83HxVtFxXXMg2A9ajRXOtmjRYAWIUgAMtRm1mKAMBmBAG4nJrM0u4MAC401iQIwHTqMWt6X48FADYlCMBp6jBbEADYlSAAH6i/bOl9/fW7ANhFL3iPjq+grEeaP3sxAWB3pgFUpOayl48eAbgQiUAQoAL1lggO9dYjAMJQGBmda5xITAAIyTSAkaixRGMCQFi9YLo+ye6h5k9UJgCEZxpARuoqkR3qqgBAGoIAGainZOARAKkorETnGiUTv1ealEwDiEQdJSMTAFLqBVcIYG9uokjLxUt6pgHsQe0kOxMA0lOI2ZprjhEIAAyhF+Snx1ewmmeaP6PwCIDheCTAGtRKRmMCwHAUapbmmmJEAgBD6gX7i+MruJiRP8PyCIDheSTAJdRGRmcCwPAUcuZyzVCBAEAJvaB7JMA5Rv6U4REA5XgkwF3UQqoxAaAchZ7bXBNUJABQUi/4z46vKMzIn7I8AqA8jwRqUvuozgSA8jSCepxzEADgFxpCHc41HAkA0PXG4HHAuDzyhBsEALihNYi3beP7AsZzeLPf4dwCnUQMJ3hz4BjUOLibCQCcoHHk5xzCaQIA3EMDycu5g/sJAHCGRpKPcwbnCQAwgYaSh3MF0wgAMJHGEp9zBNMJADCDBhOXcwPzCAAwk0YTj3MC8wkAcAENJw7nAi4jAMCFNJ79OQdwOQEArqAB7cexh+sIAHAljWh7jjlcTwCABWhI23GsYRkCACxEY1qfYwzLEQBgQRrUehxbWJYAAAvTqJbnmMLyBABYgYa1HMcS1iEAwHqe9i2Xe9a3wMIEAFhJu3P9se9yoXYMf+i7wMIEAFiR8fXlHDtYlwAAK9PI5nPMYH0CAGxAQ5vOsYJtPHz16qsHfR9Y19/1LSdo/rCNQ+83AYCNtOb2XdsI3Kc96ltgAwIAbKiFgLd9l1vasXndd4ENCACwMWPuTzkmsD0BAPbxm74tT/OHfQgAsIPW9L7vuwC7EABgJ+58HQPYkwAAO6rcADV/2JcAAPur+NFAH4eEnbz//p9fAoAvA4L9tDvhch8NrPgzQzQmABBApXG40T/EIAAAQEECAARR4c7Y3T/EIQBALCN/H77v+odABAAIpN0hD/t9+CP/bJCRAADBjDgmN/qHeH4NAD4KCABju9nrTQAgoJHumN39Q0wCAAAUJABAUCPcObv7h7gEAAAoSACAwDLfQbv7h9g+CgA+CQAAY7rd400AILiMd9Lu/iE+AQAAChIAIIFMd9Tu/iEHAQAACvokAHgjIACM5a7ebgIASWQYrRv/Qx4CAAAUJABAIpHvsN39Qy4CAAAUJAAAQEEn3/FvnAdxRfu0jnoBcZ2qFyYAAFCQAAAABQkAAFDQvc8RPdeDuKK8D0CdgLjuqxMmAABQkAAAAAUJAABQ0NlniJ7vQVx7vw9AfYC4ztUHEwAAKEgAAICCBAAAKOhsAIjyWWMAYJopvdsEAAAKEgAgsT3fhe8TAJCbAAAABU0KAN4HAAA5TO3ZJgAAUJAAAAAFCQAAUNDkAOB9AAAQ25xebQIAAAUJAABQ0KwA4DEAAMQ0t0ebAABAQQIAABQ0OwB4DAAAsVzSm00AAKAgAQAACrooAHgMAAAxXNqTTQAAoCABAAAKujgAeAwAAPu6phebAABAQQIAABQkAABAQtc+ir8qAHgfAADkZAIAAAVdHQBMAQBgW0v0XhMAAChIAIDE9pzAmf5BbosEAIUAALaxVM81AQCAghYLAKYAALCuJXutCQAAFCQAAEBBiwYAjwEAYB1L91gTAEgqQuAW+iGvxQOAggAAy1qjt5oAAEBBAgAAFLTauP7ly6/f9V1gYdEetVnvsJ611rsJAAAUtFoA8GZAALjOmr3UBAAAChIAIJmI0zUTP8hn1QCgKADAZdbuoSYAAFDQJnfoPiIEy4g+VbPWYRlbrHUTAAAoaJMA4L0AADDNVj3TBACSyBCkhX3IY7MAoDAAwP227JUmAABQ0OZ35d4lDPNlm6BZ5zDf1uvcBAAACto8AHgvAAB8bI/eaAIAwWUMzYI+xLdLAFAcAOBor55oAgCBZQ7Lgj7EtlsAUBwAqG7PXmgCAEGNEJIFfYhr1wCgOABQ1d490AQAAhopHAv6ENPuAUBxAKCaCL0vTPP11aFwNGootsbhKMoa9wgAAAoKdafhDoHqRn8kZo1TXaQ1HmoC0A7Mk74LAEOJ1uOiPQJ43bdQzuh3/wcVfka4R6geF3IxGhNSTbXGaI1TTcQ17k2AAFBQ2LsOdwhUUXUsbo1TRdQ1HnYC0A6Y6QQAqUXuZZGbrLsDhlf17v+g8s9OKWF7WfgFaEzIqDTAI2ucUUVf48bssINWGD7vu+U5FrCP8AHAXRKD+rlvcSwYUIbelaa5GhMyCqH2btY4o8iyxtM8AmgH9EXfhbQ0/9McG0bQruPnfTe8TO8B+L5vISUh9jzHiAH80LfhpXoToDsEkhNiz3OMSCtbj0r3KQAhAIBoMvamdAEAEkvzbHBHjhFsJO3dtHcMk1G7Szh85t3H3u72pK3rn/o+pJF1Mp16nC4EkFErFofJm2v3Yw/aen7b9yGNzI+lUweAAyGAjDIXjTVYx2SUfR2nfw9AOwHP+i6koeF94FiQUes9X/TdtEZ4E+CPfQupaHyOAan9X9+mNcwYUiEhq6qPA6xZshplzQ7zMcCqRZQhPOnbSir+zAxgpF4zXNN0V0FG1QKsdUpGo63T4b4IqJ2g4X4mxlepIWr+ZDRiSB+xWb5rJ+px34c0KjRGzZ+MWk951HeHMurd8pt2wg7fuAbZjBxeBXPS6b1kyC+pGnlc/nM7cb/p+5BCu0Me9muCR/7ZGFPrIYffTTHsdTv68/K/tRP4u74PKYw4Jjf6J5vWO75smzS/2/8SFd4w9107kf/Y9wFgim/7dlgVAsDBX1oI+Ke+D+GNdMfs7p9sWr8o8bHcUp89bn7bitHwqY5xZC9Emj+ZtPX2+7b53+Or8VWZALx3eBzglwcB8JHWG160TZnmf1BtAvDe43Zn4h3JpJB1CuDunyzaGnvaNj8dX9VRbQLw3ut2wqv+7AB0rRccvuSnXPM/qDoB+JW7FDLINgWwrsgg63RtKeXvgqtfAAAVqf0mAL9yx0J0WQqWtUR0mv+R5+CdC4IEMqxX64jQ1PoPHIhPPWh3MEP+4gfyi1683P0TVVs7hzf7qe03mAB86vDrhAUjQgreYIf8lank12u65n+LAHCCEADztHDyuu9CGGr5aQ7MBMaaRBK1oFknRKLxn+cATaS4EUm04mZ9EInmP42DNJNCRwQCAHxK45/HwbqAYkcEUYqd9UAEmv983gQIAAUJADO52wGIR22eTwCApCIUPEUX8hIAZlDsAOJSo+cRACCxPQueYgu5CQATKXYA8anV0wkAAFCQz01OIFES3dafgbYmiM73ApxnAgAABQkAZ7jTAchH7T5PAIABbFnsFFYYgwBwD4UOIC81/H4CAAAUJAAAQEE+JnGC0REZrf3RJ+uCjHwk8G4mAABQkABwB3c5AONQ0+8mAABAQZ6L3CIpkt1azzutDbLzXoCPmQAAQEECAAAUJADcYMQJMC41/mMCAAxmjSKncMJ4BAAAKEgA6NzhAIxPrf9AAACAggSARiIEqEPNPxIAAKAgAQAACir/tYhGQYxqqa89tUYYVfWvBjYBAICCBAAAKKh0ADDaBKireg8wAQCAggQAACiobAAw/gegci8wAQCAggQAACioZAAw/gfgvao9wQQAAAoSAACgoHIBwPgfgNsq9gYTAAAoSAAAgIIEAAAoqFQA8PwfgFOq9QgTABjQq1dfPei7AHcSAIB7CRMwJgEAAAoqEwA8/wfgnEq9wgQAAAoSAGAwazyz9z4AGI8AAAAFlQgAnv8DMFWVnmECAAAFCQAwkDWf1XsfAIxFAACAgoYPAJ7/AzBXhd5hAgCD2GJE7zEAjEMAAICCBAAAKGjocZ7n/1Sx9Wje2qKKkR97mQAAQEECACS3xx1K+zfVDkjOIgYu4REAJCcAAEBBAgAktucblEZ+cxRUMGwA8C5lAK41ci8xAYCkItyBmwJAXgIAABQkAEBCke68TQEgJwEAkonYcIUAyEcAAICCBABIJPKdtikA5DJkAPARQACWMmpPMQGAJDLcYZsCQB4CACSQqbEKAZCDAADBtYb6vO8CLEYAgPh+6Ns0TAEgPgEAAsvcSIUAiG24AOATAIyiNdBHfTet9jM87buQ2oi9xQQA4nrbt5n91LdAMAIABDTS+NyjAIhJAIBgRmyYQgDEIwBAICM3SiEAYhEAIIjWIB/33WG1n/HzvgvsTACAAFpj/LJt3hxfDe3nvgV2JgBADN/27fA8CoAYBADYWcWGKATA/gQA2FHlRigEwL6GCgC+BZBMNEDHAPZkAgA70Pg+cCzIYrSbTAEANqbhfcoxge0JALAhje40xwa2JQDARjS48xwj2I4AABvQ2KZzrGAbAgCsTEObzzGD9QkAsCKN7HKOHaxLAICVaGDXcwxhPQIALKw1rS81ruUcjmX78w/9JbAQAQAW1BrVYU2V+cU+G/qfdmwf9X1gAQIALKTf9fs66vW87ccYWIAAAAvQmLbjWMMyBAC4QmtGTzWk7R2OefvzvL8ELiAAwIV64//p+Iod/CB8weUEALiAxhOHcwGXEQBgJg0nHucE5hMAYKJDk9Fo4urn53F/CZwhAMAEGn8ab5wrmEYAgDM0lHycMzhPAIATWhN5pJHkdTh37c8X/SVwy3DF7eXLr30TG1fT+MeiLrCE0eqCCQDc0O8aNf/B9POq3sENFgR0Gv/w3jnH8MFwi8Goj7k0hZrUCuYarVaYAFBWW8yfa/51OfdUJwBQUi/+Px9fUdXhOhAEqEoAoBQFn7v06+JJfwklCACUofFzxmvXCJUMebF7cw83KepcQh3hphHriAkAw2oL9qHmz6VcO4xOAGA4rXA/7sXbHRxXOVxHggCjEgAYSi/Wb46vYBmCACMa8oL27K4exZktqTH1jFhjhi2aFmgNGj97UmdqGLXOCACkpPETiXozNgEgGQtyTBo/kak7YxIAkrEQx6Lxk4n6MxYBICGLMD+Nn8zUoPxGrkECACFp/IxELcpLAEjKostF06eAB60uve37JCAAJCYExKfxU5HaFN/otUkAYDcaP6hRkQkAA7DA4tD04SSPBwKpUKsEADah8cN0atb+BICBWFD70PjhcurWPqrULQGAxWn6sDw1bDsCwIAsoPVo+rAdtWw9lWpZuaJt4SxH04f9qWnLqVbTKhZw77S9gqYPcQkDl2u17VHblOoNVYv587ZQ/tr3OUPTn+tdO14PFGJ2JQxM12rci7b5/viqjsqF/V/aAvmm73OLpj/fH/7w389evHj2z4f9hw+f/OXVq/8QMglBGDit1bp/bZuSvaB6kX/YFsabvl+ahg91CARHre49bpuyPUDRbyouBg0feE8NrEkTuGHkReBiB6YYPQy0WviwbUxAGk3hDiMsAA0fWIqaOCYH5B4ZLnoXNbCHLKFAjTzNgZlh7wvehQxEp07m4UAt6NIL3wULVHNNUFAzAQAAAAAAAAAAAAAAgB386U//dfjFJACbOHwnMhDAN9/8/t8+++w/H/WXAKsSACCIJ09e//mPf/z3v+8vAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2MJnn/0/o2jlH3stvFkAAAAASUVORK5CYII=\"","import ColorIcon from \"./ColorIcon\";\r\n\r\nexport default function Coin(props) {\r\n  const {\r\n    color,\r\n    onClick,\r\n    disabled,\r\n    floated,\r\n    children\r\n  } = props;\r\n  const coinContainerClassNames = ['coinContainer'];\r\n  if (floated) {\r\n    coinContainerClassNames.push(`floated ${props.floated}`);\r\n  }\r\n  const circleClassNames = ['circle', color];\r\n  if (disabled) {\r\n    circleClassNames.push('disabled');\r\n  } else if (onClick) {\r\n    circleClassNames.push('selectable');\r\n  }\r\n  return (\r\n    <div className={coinContainerClassNames.join(\" \")}>\r\n      <div\r\n        className={circleClassNames.join(\" \")}\r\n        onClick={() => { onClick && !disabled ? onClick(color) : void (0) }}\r\n      >\r\n        {children}\r\n      </div>\r\n      <ColorIcon color={color} size={'small'} />\r\n    </div>\r\n  );\r\n}","/**\r\n * Summary. Carries coins for buying cards.\r\n *\r\n * Description. Used by PlayerBase and BankBase classes. Not used by CardBase.\r\n * If the startingBalance is set above 0, we assume this is a wallet for the \r\n * BankBase and thus set the wilds to 5.\r\n *\r\n */\r\nexport default class Wallet {\r\n  constructor(startingValue) {\r\n    this.white = startingValue;\r\n    this.blue = startingValue;\r\n    this.green = startingValue;\r\n    this.red = startingValue;\r\n    this.black = startingValue;\r\n  }\r\n}\r\n\r\nexport class CoinWallet extends Wallet {\r\n  constructor(startingBalance = 0) {\r\n    super(startingBalance);\r\n    this.wild = 0 < startingBalance ? 5 : 0;  // max 5 wild coins for all games\r\n  }\r\n\r\n  sum() {\r\n    return this.white + this.blue + this.green + this.red + this.black + this.wild;\r\n  }\r\n}\r\n\r\nexport class CardWallet extends Wallet {\r\n  constructor() {\r\n    super();\r\n    this.white = [];\r\n    this.blue = [];\r\n    this.green = [];\r\n    this.red = [];\r\n    this.black = [];\r\n  }\r\n}","import Coin from './components/Coin';\r\nimport { COLORS_NO_WILD } from './constants/colors';\r\nimport { CoinWallet } from './objects/Wallet';\r\n\r\nexport const DECK = 'deck';\r\nexport const BOARD = 'board';\r\nexport const RESERVED = 'reserved';\r\nexport const WHITE = 'white';\r\nexport const BLUE = 'blue';\r\nexport const GREEN = 'green';\r\nexport const RED = 'red';\r\nexport const BLACK = 'black';\r\nexport const WILD = 'wild';\r\n\r\nexport default function renderPrice(price, type) {\r\n  return Object.entries(price).map(([color, amt]) => {\r\n    if (amt === 0) {\r\n      return <></>;\r\n    }\r\n    if (type === 'coin') {\r\n      return <Coin color={color}>{amt}</Coin>;\r\n    }\r\n    if (type === 'game-card') {\r\n      return <GameCard color={color}>{amt}</GameCard>;\r\n    }\r\n  });\r\n}\r\n\r\nexport function GameCard(props) {\r\n  let displayClass;\r\n  if (props.selectable === true) {\r\n    displayClass = \"selectable\";\r\n  } else {\r\n    displayClass = \"\";\r\n  }\r\n  const classNames = [\"game-card\", props.size || \"mini\", props.color, displayClass].join(\" \");\r\n  return (\r\n    <div\r\n      className={classNames}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function isAbleToBuy(card, player) {\r\n  const price = card.price;\r\n  const cards = player.cards;\r\n  let newWallet = new CoinWallet();\r\n\r\n  COLORS_NO_WILD.forEach(color => {\r\n    let remainder = price[color] - cards[color].length;\r\n    if (newWallet[color] + newWallet[WILD] < remainder) {\r\n      return false;\r\n    } else if (remainder - newWallet[color] > 0) {\r\n      newWallet[WILD] -= remainder - newWallet[color];\r\n    }\r\n  })\r\n  return true;\r\n}\r\n\r\nexport function calculateCharge(card, player) {\r\n  const price = card.price;\r\n  const cards = player.cards;\r\n  const wallet = player.coins;\r\n  let chargeWallet = new CoinWallet();\r\n\r\n  COLORS_NO_WILD.forEach(color => {\r\n    let remainder = price[color] - cards[color].length;\r\n    if (remainder > 0) {\r\n      if (wallet[color] >= remainder) {\r\n        chargeWallet[color] = remainder;\r\n      } else {\r\n        chargeWallet[color] = wallet[color];\r\n        chargeWallet[WILD] = remainder - wallet[color];\r\n      }\r\n    }\r\n  })\r\n  return chargeWallet;\r\n}\r\n\r\nfunction randInt(i, j) {\r\n  return Math.floor(Math.random() * (j - i) + i);\r\n}\r\n\r\nfunction swap(A, i, j) {\r\n  let temp = A[i];\r\n  A[i] = A[j];\r\n  A[j] = temp;\r\n}\r\n\r\nexport function shuffle(A) {\r\n  let n = A.length;\r\n  for (let k = 0; k < n; k++) {\r\n    swap(A, k, randInt(0, n - 1));\r\n  }\r\n  return A;\r\n}\r\n\r\nexport function any(array) {\r\n  for (let each of array) {\r\n    if (each === true) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function rank(array, attribute) {\r\n  return array.slice().sort((a, b) => b[attribute] - a[attribute]);\r\n}","import { Card } from 'semantic-ui-react';\r\nimport renderPrice from '../utils';\r\nimport ColorIcon from './ColorIcon';\r\n\r\nexport default function GameCard(props) {\r\n  const {\r\n    card,\r\n    size\r\n  } = props;\r\n  let classNames = [card.color];\r\n  if (size) {\r\n    classNames.push(size);\r\n  }\r\n  return (\r\n    <Card className={size} {...props}>\r\n      <Card.Content className={classNames.join(\" \")}>\r\n        <ColorIcon\r\n          color={card.color}\r\n          floated={'left'}\r\n          size={size || 'medium'}\r\n        />\r\n        <Card.Header textAlign=\"right\" className={\"pointValue\"}>\r\n          {card.points}\r\n        </Card.Header>\r\n        <Card.Description>\r\n          {renderPrice(card.price, \"coin\")}\r\n        </Card.Description>\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n}","export const MAX_BANK_COINS = {\r\n  2: 4,  // in 2 player game, bank carries max 4 coins per color\r\n  3: 5,\r\n  4: 7,\r\n};\r\nexport const MIN_PLAYERS = 2;\r\nexport const MIN_POINTS_TO_WIN = 15;\r\nexport const NUM_PLAYERS_LIST = [2, 3, 4];\r\nexport const POINTS_TO_WIN_LIST = [15, 21];\r\nexport const MAX_PLAYER_COINS = 10;\r\nexport const MAX_PLAYER_RESERVATION = 3;\r\nexport const GAME_STATUSES = {\r\n  notStarted: 'Not started',\r\n  inProgress: 'In progress',\r\n  resigned: 'Resigned',\r\n  completed: 'Completed'\r\n}\r\nexport const MAX_BOARD_ROWS = 3;\r\nexport const MAX_BOARD_COLS = 4;","export default function MiniCard(props) {\r\n  const {\r\n    size,\r\n    color,\r\n    fluid,\r\n    onClick,\r\n    disabled,\r\n    children\r\n  } = props;\r\n  let classNames = ['mini-card'];\r\n  if (color) {\r\n    classNames.push(color);\r\n  } else {\r\n    classNames.push('beige');\r\n  }\r\n  if (size) {\r\n    classNames.push(size);\r\n  }\r\n  if (fluid) {\r\n    classNames.push('fluid');\r\n  }\r\n  if (onClick) {\r\n    classNames.push('selectable');\r\n  }\r\n  if (disabled) {\r\n    classNames.push('disabled');\r\n  }\r\n  return (\r\n    <div className={classNames.join(\" \")} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { Modal, Button } from 'semantic-ui-react';\r\nimport { isAbleToBuy } from '../utils';\r\nimport GameCard from './GameCard';\r\nimport { MAX_PLAYER_RESERVATION } from '../constants/defaults';\r\nimport MiniCard from './MiniCard';\r\n\r\nexport function DeckModal(props) {\r\n  const {\r\n    level,\r\n    deck,\r\n    onClick,\r\n    players,\r\n    currentPlayerIdx,\r\n    disabled\r\n  } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const currentPlayer = players[currentPlayerIdx];\r\n\r\n  const handleReserve = () => {\r\n    setOpen(false);\r\n    onClick(level);\r\n  }\r\n\r\n  const triggerComponent = (\r\n    <MiniCard size={'small'}>\r\n      <div>{'...'}</div>\r\n      <div>{deck.length}</div>\r\n    </MiniCard>\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      size={'mini'}\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open && !disabled}\r\n      trigger={triggerComponent}\r\n    >\r\n      <Modal.Content>\r\n        <MiniCard\r\n          size={'large'}\r\n          fluid\r\n        >\r\n          {'...'}\r\n          {deck.length}\r\n        </MiniCard>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          color='black'\r\n          content=\"Cancel\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n        <Button\r\n          color='yellow'\r\n          content=\"Reserve\"\r\n          disabled={MAX_PLAYER_RESERVATION <= currentPlayer.reserved.length}\r\n          onClick={() => handleReserve()}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport function GameCardModal(props) {\r\n  const {\r\n    level,\r\n    column,\r\n    deck,\r\n    index,\r\n    card,\r\n    handleReserveClick,\r\n    handleBuyClick,\r\n    player,\r\n    currentPlayerIdx,\r\n    disabled\r\n  } = props;\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleBuy = () => {\r\n    setOpen(false);\r\n    if (index === undefined) {\r\n      handleBuyClick(level, column);\r\n    } else {\r\n      handleBuyClick(index);\r\n    }\r\n  }\r\n\r\n  const handleReserve = () => {\r\n    setOpen(false);\r\n    handleReserveClick(level, column);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      size={'mini'}\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open && !disabled}\r\n      trigger={<GameCard card={card} size={'medium'} />}\r\n    >\r\n      <Modal.Content>\r\n        <GameCard card={card} size={'large'} fluid />\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          color='black'\r\n          content=\"Cancel\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n        {\r\n          handleReserveClick &&\r\n          <Button\r\n            color='yellow'\r\n            content=\"Reserve\"\r\n            disabled={MAX_PLAYER_RESERVATION <= player.reserved.length}\r\n            onClick={() => handleReserve()}\r\n          />\r\n        }\r\n        {\r\n          currentPlayerIdx === player.position &&\r\n          <Button\r\n            content=\"Buy\"\r\n            disabled={!isAbleToBuy(card, player)}\r\n            onClick={() => handleBuy()}\r\n            positive\r\n          />\r\n        }\r\n      </Modal.Actions>\r\n    </Modal>\r\n  )\r\n}","import React from 'react';\r\nimport { Grid, Card } from 'semantic-ui-react';\r\nimport { DeckModal, GameCardModal } from './CardModal';\r\n\r\nexport default function Board(props) {\r\n  const {\r\n    board,\r\n    decks,\r\n    players,\r\n    currentPlayerIdx,\r\n    handleBuyFromBoard,\r\n    handleReserveFromDeck,\r\n    handleReserveFromBoard,\r\n    finished\r\n  } = props;\r\n  // TODO empty array into a placeholder deck card\r\n  // TODO turn null into a placeholder game card\r\n  let rows = board.map((row, level) => {\r\n    let deckModal = (\r\n      <DeckModal\r\n        level={level}\r\n        deck={decks[level]}\r\n        onClick={handleReserveFromDeck}\r\n        players={players}\r\n        currentPlayerIdx={currentPlayerIdx}\r\n        disabled={finished}\r\n      />\r\n    );\r\n    let cols = row.map((card, col) => {\r\n      return (\r\n        <GameCardModal\r\n          level={level}\r\n          column={col}\r\n          card={card}\r\n          player={players[currentPlayerIdx]}\r\n          currentPlayerIdx={currentPlayerIdx}\r\n          handleBuyClick={handleBuyFromBoard}\r\n          handleReserveClick={handleReserveFromBoard}\r\n          disabled={finished}\r\n        />\r\n      );\r\n    });\r\n    return (\r\n      <Grid.Row columns={2}>\r\n        <Grid.Column width={1}>\r\n          {deckModal}\r\n        </Grid.Column>\r\n        <Grid.Column width={15}>\r\n          <Card.Group itemsPerRow={4}>\r\n            {cols}\r\n          </Card.Group>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    );\r\n  });\r\n  return (\r\n    <Grid>{rows.reverse()}</Grid>\r\n  );\r\n}","import { MAX_BANK_COINS, MIN_PLAYERS } from \"../constants/defaults\";\r\nimport { CoinWallet } from \"./Wallet\";\r\n\r\nclass BankBase {\r\n  constructor(numPlayers = MIN_PLAYERS) {\r\n    this.wallet = new CoinWallet(MAX_BANK_COINS[numPlayers]);\r\n  }\r\n}\r\n\r\nexport default BankBase;","import React from 'react';\r\nimport { CoinWallet } from '../objects/Wallet';\r\nimport { WILD } from '../utils';\r\nimport { Button, Container, Grid, Modal } from 'semantic-ui-react'\r\nimport Coin from './Coin';\r\nimport { COLORS_NO_WILD } from '../constants/colors';\r\nimport BankBase from '../objects/BankBase';\r\n\r\nexport default function Bank(props) {\r\n  const {\r\n    bank,\r\n    handleCoinTransaction,\r\n    disabled\r\n  } = props;\r\n\r\n  const coins = Object.entries(bank.wallet).map(([color, count], idx) => {\r\n    return <Coin color={color}>{count}</Coin>\r\n  });\r\n\r\n  return (\r\n    <Container>\r\n      {coins}\r\n      <ModalPickCoins\r\n        bank={bank}\r\n        coins={props.coins}\r\n        handleCoinTransaction={handleCoinTransaction}\r\n        disabled={disabled}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n\r\nclass ModalPickCoins extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleCoinTake = this.handleCoinTake.bind(this);\r\n    this.handleCoinReturn = this.handleCoinReturn.bind(this);\r\n    this.state = {\r\n      open: false,\r\n      bank: props.bank,\r\n      bankCoins: props.coins,\r\n      tempCoins: new CoinWallet(),\r\n      bankCoinsSelectable: this.initBankCoinsSelectable(props.coins),\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!prevState.open && this.state.open) {\r\n      this.setState({\r\n        bank: this.props.bank,\r\n        tempCoins: new CoinWallet(),\r\n        bankCoinsSelectable: this.initBankCoinsSelectable(this.props.coins)\r\n      });\r\n    }\r\n  }\r\n\r\n  initBankCoinsSelectable(coins) {\r\n    let bankCoinsSelectable = {};\r\n    for (let [color, count] of Object.entries(coins)) {\r\n      if (color !== WILD) {\r\n        bankCoinsSelectable[color] = 0 < count;\r\n      }\r\n    }\r\n    return bankCoinsSelectable;\r\n  }\r\n\r\n  handleCoinTake(colorToTake) {\r\n    const {\r\n      bank,\r\n      tempCoins,\r\n      bankCoinsSelectable\r\n    } = this.state;\r\n\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n    let newBankWallet = Object.assign(new CoinWallet(), bank.wallet);\r\n    let newTempCoins = Object.assign(new CoinWallet(), tempCoins);\r\n    let newBankCoinsSelectable = Object.assign({}, bankCoinsSelectable);\r\n\r\n    if (bank.wallet[colorToTake] === 0) {\r\n      console.log(\"Cannot take any more coins of this color\", bank.wallet);\r\n      return;\r\n    }\r\n    if (bankCoinsSelectable[colorToTake] === false) {\r\n      console.log(\"Cannot take coins because bankCoinsSelectable for this color is false\", bankCoinsSelectable);\r\n      return;\r\n    }\r\n\r\n    newBankWallet[colorToTake]--;\r\n    newTempCoins[colorToTake]++;\r\n\r\n    let sum = newTempCoins.sum();\r\n\r\n    if (sum === 1) {\r\n      newBankCoinsSelectable[colorToTake] = newBankWallet[colorToTake] > 2;\r\n    } else if (sum === 2) {\r\n      if (newTempCoins[colorToTake] === 2) {\r\n        COLORS_NO_WILD.forEach(color => {\r\n          newBankCoinsSelectable[color] = false;\r\n        });\r\n      } else {\r\n        COLORS_NO_WILD.forEach(color => {\r\n          newBankCoinsSelectable[color] = newBankWallet[color] > 0 && newTempCoins[color] === 0;\r\n        });\r\n      }\r\n    } else {\r\n      COLORS_NO_WILD.forEach(color => {\r\n        newBankCoinsSelectable[color] = false;\r\n      })\r\n    }\r\n\r\n    newBank.wallet = newBankWallet;\r\n    this.setState({\r\n      bank: newBank,\r\n      tempCoins: newTempCoins,\r\n      bankCoinsSelectable: newBankCoinsSelectable,\r\n    });\r\n  }\r\n\r\n  handleCoinReturn(colorToReturn) {\r\n    const {\r\n      bank,\r\n      tempCoins,\r\n      bankCoinsSelectable\r\n    } = this.state;\r\n\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n    let newBankWallet = Object.assign(new CoinWallet(), bank.wallet);\r\n    let newTempCoins = Object.assign(new CoinWallet(), tempCoins);\r\n    let newBankCoinsSelectable = Object.assign({}, bankCoinsSelectable);\r\n\r\n    if (newTempCoins[colorToReturn] === 0) {\r\n      console.log(\"Cannot return any more coins of this color\", bank.wallet);\r\n      return;\r\n    }\r\n\r\n    newBankWallet[colorToReturn]++;\r\n    newTempCoins[colorToReturn]--;\r\n\r\n    let sum = newTempCoins.sum();\r\n\r\n    if (sum === 0) {\r\n      newBankCoinsSelectable[colorToReturn] = newBankWallet[colorToReturn] > 0;\r\n    } else if (sum === 1) {\r\n      COLORS_NO_WILD.forEach(color => {\r\n        if (newTempCoins[color] > 0) {\r\n          newBankCoinsSelectable[color] = newBankWallet[color] > 2;\r\n        } else {\r\n          newBankCoinsSelectable[color] = newBankWallet[color] > 0;\r\n        }\r\n      })\r\n    } else if (sum === 2) {\r\n      COLORS_NO_WILD.forEach(color => {\r\n        newBankCoinsSelectable[color] = newBankWallet[color] > 0 && newTempCoins[color] === 0;\r\n      });\r\n    }\r\n\r\n    newBank.wallet = newBankWallet;\r\n    this.setState({\r\n      bank: newBank,\r\n      tempCoins: newTempCoins,\r\n      bankCoinsSelectable: newBankCoinsSelectable,\r\n    });\r\n  }\r\n\r\n  handleConfirm(coins) {\r\n    this.props.handleCoinTransaction(coins, true);\r\n    this.setState({\r\n      open: false\r\n    });\r\n  }\r\n\r\n  handleCancel() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      open,\r\n      bank,\r\n      tempCoins,\r\n      bankCoinsSelectable\r\n    } = this.state;\r\n\r\n    const coins = COLORS_NO_WILD.map(color => {\r\n      const bankQty = bank.wallet[color];\r\n      const tempQty = tempCoins[color];\r\n      const bankCoinButton = (\r\n        <Coin\r\n          color={color}\r\n          disabled={bankQty === 0 || !bankCoinsSelectable[color]}\r\n          onClick={this.handleCoinTake}\r\n        >\r\n          {bankQty}\r\n        </Coin>\r\n      );\r\n      const tempCoinButton = (\r\n        <Coin\r\n          color={color}\r\n          onClick={this.handleCoinReturn}\r\n        >\r\n          {tempQty}\r\n        </Coin>\r\n      );\r\n      return (\r\n        <Grid.Row>\r\n          {bankCoinButton}\r\n          {tempQty > 0 && tempCoinButton}\r\n        </Grid.Row>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <Modal\r\n        className=\"bank\"\r\n        onClose={() => this.setState({ open: false })}\r\n        onOpen={() => this.setState({ open: true })}\r\n        open={open && !this.props.disabled}\r\n        trigger={<Button>Collect Coins</Button>}\r\n      >\r\n        <Modal.Header>Select Coins</Modal.Header>\r\n        <Modal.Content>{coins}</Modal.Content>\r\n        <Modal.Actions>\r\n          <Button\r\n            color='black'\r\n            content=\"Cancel\"\r\n            onClick={() => this.handleCancel()}\r\n          />\r\n          <Button\r\n            content=\"confirm\"\r\n            onClick={() => this.handleConfirm(tempCoins)}\r\n            positive\r\n            disabled={tempCoins.sum() === 0}\r\n          />\r\n        </Modal.Actions>\r\n      </Modal>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { Card, Grid, Modal } from 'semantic-ui-react';\r\nimport renderPrice from '../utils'\r\n\r\nfunction Noble(props) {\r\n  const { idx, points, price, onClick } = props;\r\n  const content = (\r\n    <Card.Content>\r\n      <Card.Header textAlign='right' as='h1'>\r\n        {points}\r\n      </Card.Header>\r\n      {renderPrice(price, \"game-card\")}\r\n    </Card.Content>\r\n  );\r\n  return onClick ? (\r\n    <Card onClick={() => onClick(idx)}>\r\n      {content}\r\n    </Card>\r\n  ) : (\r\n    <Card>\r\n      {content}\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default function Noblemen(props) {\r\n  const { noblemen, includesList, onClick } = props;\r\n  const nobles = noblemen.map((noble, idx) => {\r\n    return (\r\n      <Grid.Column>\r\n        {\r\n          includesList[idx] &&\r\n          <Noble\r\n            idx={idx}\r\n            points={noble.points}\r\n            price={noble.price}\r\n            onClick={onClick}\r\n          />\r\n        }\r\n      </Grid.Column>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Grid\r\n      columns={nobles.length}\r\n      className={'min-height'}\r\n    >\r\n      {nobles}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport function ModalNoblemen(props) {\r\n  const { noblemen, includesList, onClick, open } = props;\r\n\r\n  return (\r\n    <Modal open={open}>\r\n      <Modal.Header>Select Noble</Modal.Header>\r\n      <Modal.Content>\r\n        <Noblemen\r\n          noblemen={noblemen}\r\n          includesList={includesList}\r\n          onClick={onClick}\r\n        />\r\n      </Modal.Content>\r\n    </Modal>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { Button, Grid, Header, List, Modal } from 'semantic-ui-react'\r\nimport { GameCardModal } from './CardModal';\r\nimport Coin from './Coin';\r\nimport MiniCard from './MiniCard';\r\nimport GameCard from './GameCard';\r\n\r\nexport default function Player(props) {\r\n  const {\r\n    player,\r\n    currentPlayerIdx,\r\n    finished,\r\n    handleBuyClick\r\n  } = props;\r\n\r\n  const coins = Object.entries(player.coins).map(([color, count], idx) => {\r\n    const coin = <Coin color={color}>{count}</Coin>;\r\n    return <Grid.Column>{0 < count && coin}</Grid.Column>;\r\n  });\r\n  const cards = Object.entries(player.cards).map(([color, cardArray]) => {\r\n    const card = <MiniCard size={'small'} color={color}>{cardArray.length}</MiniCard>;\r\n    return <Grid.Column>{0 < cardArray.length && card}</Grid.Column>;\r\n  });\r\n  return (\r\n    <Grid className={player.position === currentPlayerIdx && !finished ? \"active-player\" : null}>\r\n      <Grid.Row columns={2}>\r\n        <Grid.Column>{player.points}</Grid.Column>\r\n        <Grid.Column textAlign=\"right\">{player.name}</Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row columns={6}>\r\n        {coins}\r\n      </Grid.Row>\r\n      <Grid.Row columns={6}>\r\n        {cards}\r\n        <Grid.Column>\r\n          <ModalPlayerDetails\r\n            player={player}\r\n            currentPlayerIdx={currentPlayerIdx}\r\n            finished={finished}\r\n            handleBuyClick={handleBuyClick}\r\n          />\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ModalPlayerDetails(props) {\r\n  const {\r\n    player,\r\n    currentPlayerIdx,\r\n    finished,\r\n    handleBuyClick,\r\n  } = props;\r\n  const [open, setOpen] = useState(false);\r\n\r\n  let cardList = [];\r\n  Object.values(player.cards).forEach((cardArray) => {\r\n    Object.values(cardArray).forEach(card => {\r\n      cardList.push(\r\n        <List.Item>\r\n          <GameCard\r\n            card={card}\r\n            size=\"medium\"\r\n          />\r\n        </List.Item>\r\n      );\r\n    });\r\n  });\r\n  const reserved = player.reserved.map((card, idx) => {\r\n    return (\r\n      <Grid.Row>\r\n        <GameCardModal\r\n          index={idx}\r\n          card={card}\r\n          player={player}\r\n          currentPlayerIdx={currentPlayerIdx}\r\n          handleBuyClick={handleBuyClick}\r\n          disabled={finished || currentPlayerIdx !== player.position}\r\n        />\r\n      </Grid.Row>\r\n    )\r\n  });\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(!finished)}\r\n      open={open}\r\n      trigger={<MiniCard size={'small'}>{'...'}</MiniCard>}\r\n    >\r\n      <Modal.Header>\r\n        <Grid columns={2}>\r\n          <Grid.Column>{player.points}</Grid.Column>\r\n          <Grid.Column textAlign=\"right\">{player.name}</Grid.Column>\r\n        </Grid>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <Grid celled columns={2}>\r\n          <Grid.Row>\r\n            <Grid.Column width={13}><Header>{'Purchased cards'}</Header></Grid.Column>\r\n            <Grid.Column width={3}><Header>{'Reserved cards'}</Header></Grid.Column>\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            <Grid.Column width={13}>\r\n              <List horizontal>\r\n                {cardList}\r\n              </List>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              {reserved}\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          color='black'\r\n          content=\"Cancel\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n}","import React from 'react';\r\nimport { CoinWallet } from '../objects/Wallet';\r\nimport { Button, Grid, Modal } from 'semantic-ui-react';\r\nimport Coin from './Coin';\r\n\r\nexport default class ReturnCoinsModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleGiveToBank = this.handleGiveToBank.bind(this);\r\n    this.handleReturnToPlayer = this.handleReturnToPlayer.bind(this);\r\n    this.state = {\r\n      playerCoins: props.coins,\r\n      numPlayerCoins: props.coins.sum(),\r\n      tempCoins: new CoinWallet(),\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.open && this.props.open) {\r\n      this.setState({\r\n        playerCoins: this.props.coins,\r\n        numPlayerCoins: this.props.coins.sum(),\r\n        tempCoins: new CoinWallet(),\r\n      });\r\n    }\r\n  }\r\n\r\n  handleCoinMovement(color, isGiveToBank) {\r\n    const {\r\n      playerCoins,\r\n      tempCoins\r\n    } = this.state;\r\n\r\n    let newPlayerCoins = Object.assign(new CoinWallet(), playerCoins);\r\n    let newTempCoins = Object.assign(new CoinWallet(), tempCoins);\r\n    if (isGiveToBank) {\r\n      newPlayerCoins[color]--;\r\n      newTempCoins[color]++;\r\n    } else {\r\n      newPlayerCoins[color]++;\r\n      newTempCoins[color]--;\r\n    }\r\n\r\n    this.setState({\r\n      playerCoins: newPlayerCoins,\r\n      tempCoins: newTempCoins,\r\n      numPlayerCoins: newPlayerCoins.sum(),\r\n    });\r\n  }\r\n\r\n  handleGiveToBank(color) {\r\n    this.handleCoinMovement(color, true);\r\n  }\r\n\r\n  handleReturnToPlayer(color) {\r\n    this.handleCoinMovement(color, false);\r\n  }\r\n\r\n  handleConfirm(coins) {\r\n    this.props.handleCoinTransaction(coins, false);\r\n    this.setState({\r\n      tempCoins: new CoinWallet(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { open } = this.props;\r\n    const {\r\n      playerCoins,\r\n      numPlayerCoins,\r\n      tempCoins\r\n    } = this.state;\r\n\r\n    const coins = Object.entries(playerCoins).map(([color, count], idx) => {\r\n      const disabled = count <= 0;\r\n      const playerCoinButton = (\r\n        <Coin\r\n          color={color}\r\n          disabled={disabled}\r\n          onClick={this.handleGiveToBank}\r\n        >\r\n          {count}\r\n        </Coin>\r\n      );\r\n      const tempCoinButton = (\r\n        <Coin\r\n          color={color}\r\n          onClick={this.handleReturnToPlayer}\r\n        >\r\n          {tempCoins[color]}\r\n        </Coin>\r\n      );\r\n      return (\r\n        <Grid.Row>\r\n          {playerCoinButton}\r\n          {\r\n            tempCoins[color] > 0 &&\r\n            tempCoinButton\r\n          }\r\n        </Grid.Row>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <Modal\r\n        className=\"bank\"\r\n        open={open}\r\n        trigger={null}\r\n      >\r\n        <Modal.Header>Return down to 10 coins</Modal.Header>\r\n        <Modal.Content>{coins}</Modal.Content>\r\n        <Modal.Actions>\r\n          <Button\r\n            content=\"confirm\"\r\n            onClick={() => this.handleConfirm(tempCoins)}\r\n            positive\r\n            disabled={numPlayerCoins > 10}\r\n          />\r\n        </Modal.Actions>\r\n      </Modal>\r\n    );\r\n  }\r\n}","function History(props) {\r\n  const { status, moves } = props;\r\n  return (\r\n    <>\r\n      <div>{status}</div>\r\n      <ol>{moves}</ol>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default History;","import { Grid } from \"semantic-ui-react\";\r\nimport Bank from \"../components/Bank\";\r\nimport Board from \"../components/Board\";\r\nimport Noblemen, { ModalNoblemen } from \"../components/Noblemen\";\r\nimport ReturnCoinsModal from \"../components/ReturnCoinsModal\";\r\n\r\nfunction DesktopLayout(props) {\r\n  const { players, bankCoins, finished, } = props;\r\n  return (\r\n    <>Desktop Layout</>\r\n  )\r\n}\r\n\r\nexport default DesktopLayout;","import { CardWallet, CoinWallet } from \"./Wallet\";\r\n\r\nexport default class PlayerBase {\r\n  constructor(name, position) {\r\n    this.coins = new CoinWallet();\r\n    this.cards = new CardWallet();\r\n    this.reserved = [];\r\n    this.points = 0;\r\n    this.noblemen = [];\r\n    this.name = name;\r\n    this.position = position;\r\n  }\r\n\r\n  reserve(card) {\r\n    this.reserved.push(card);\r\n  }\r\n\r\n  addNoble(noble) {\r\n    this.noblemen.push(noble);\r\n  }\r\n\r\n  addPoints(points) {\r\n    this.points += points;\r\n  }\r\n}","import Board from '../components/Board';\r\nimport Bank from '../components/Bank';\r\nimport Noblemen, { ModalNoblemen } from '../components/Noblemen';\r\nimport Player from '../components/Player';\r\nimport { Grid, Container, Divider } from 'semantic-ui-react';\r\nimport ReturnCoinsModal from '../components/ReturnCoinsModal';\r\nimport { calculateCharge, WILD, any, rank, isAbleToBuy } from '../utils';\r\nimport React from 'react';\r\nimport History from '../components/History';\r\nimport DesktopLayout from '../layouts/desktop';\r\nimport { MAX_PLAYER_COINS, MAX_PLAYER_RESERVATION } from '../constants/defaults';\r\nimport BankBase from '../objects/BankBase';\r\nimport PlayerBase from '../objects/PlayerBase';\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleCoinTransaction = this.handleCoinTransaction.bind(this);\r\n    this.handleBuyFromBoard = this.handleBuyFromBoard.bind(this);\r\n    this.handleBuyFromReservation = this.handleBuyFromReservation.bind(this);\r\n    this.handleReserveFromDeck = this.handleReserveFromDeck.bind(this);\r\n    this.handleReserveFromBoard = this.handleReserveFromBoard.bind(this);\r\n    this.handleNoblemenSelection = this.handleNoblemenSelection.bind(this);\r\n\r\n    this.state = {\r\n      game: props.game,\r\n      numPlayers: props.game.numPlayers,\r\n      pointsToWin: props.game.pointsToWin,\r\n      players: props.game.players,\r\n      currentPlayerIdx: props.game.currentPlayerIdx,\r\n      bank: props.game.bank,\r\n      decks: props.game.decks,\r\n      board: props.game.board,\r\n      nobles: props.game.nobles,\r\n      status: props.game.status,\r\n      lifecycle: props.game.stateMachine.startOfTurn,\r\n      finished: false,\r\n      returnCoinsModalOpen: false,\r\n      noblemenSelectionOpen: false,\r\n      selectableNoblemen: [],\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.game !== prevProps.game) {\r\n      this.setState((state, props) => {\r\n        return {\r\n          game: props.game,\r\n          numPlayers: props.game.numPlayers,\r\n          pointsToWin: props.game.pointsToWin,\r\n          players: props.game.players,\r\n          currentPlayerIdx: props.game.currentPlayerIdx,\r\n          bank: props.game.bank,\r\n          decks: props.game.decks,\r\n          board: props.game.board,\r\n          nobles: props.game.nobles,\r\n          status: props.game.status,\r\n          lifecycle: props.game.stateMachine.startOfTurn,\r\n          finished: false,\r\n          returnCoinsModalOpen: false,\r\n          noblemenSelectionOpen: false,\r\n          selectableNoblemen: [],\r\n        }\r\n      });\r\n    } else if (this.state.lifecycle !== prevState.lifecycle) {\r\n      if (this.state.lifecycle.description === 'returnCoins') {\r\n        this.setState({\r\n          returnCoinsModalOpen: true\r\n        });\r\n      } else if (this.state.lifecycle.description === 'selectNoble') {\r\n        const selectableNoblemen = this.listSelectableNoblemen(this.state.players[this.state.currentPlayerIdx], this.state.nobles);\r\n        if (any(selectableNoblemen)) {\r\n          this.setState({\r\n            noblemenSelectionOpen: true,\r\n            selectableNoblemen: selectableNoblemen\r\n          });\r\n        } else {\r\n          this.setState({\r\n            lifecycle: this.state.lifecycle.endOfTurn\r\n          });\r\n        }\r\n      } else if (this.state.lifecycle.description === 'endOfTurn') {\r\n        this.handleEndTurn();\r\n      } else if (this.state.lifecycle.description === 'endOfRound') {\r\n        this.handleEndRound();\r\n      } else if (this.state.lifecycle.description === 'endOfGame') {\r\n        this.handleEndGame();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleCoinTransaction(transactionAmountWallet, isPlayerCollecting) {\r\n    const {\r\n      players,\r\n      currentPlayerIdx,\r\n      bank,\r\n      lifecycle\r\n    } = this.state;\r\n\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.collectCoins === undefined && lifecycle.returnCoins === undefined && lifecycle.description !== 'returnCoins') {\r\n      console.log(\"Cannot collect or return coins in current lifecycle state: \", lifecycle);\r\n      return;\r\n    }\r\n\r\n    const currentPlayer = players[currentPlayerIdx];\r\n    let newLifecycle = isPlayerCollecting ? lifecycle.collectCoins : lifecycle;\r\n    let newPlayers = players.slice();\r\n    let newPlayer = Object.assign(new PlayerBase(), currentPlayer);\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n    for (let color of Object.keys(transactionAmountWallet)) {\r\n      if (isPlayerCollecting) {\r\n        newBank.wallet[color] -= transactionAmountWallet[color];\r\n        newPlayer.coins[color] += transactionAmountWallet[color];\r\n      } else {\r\n        newBank.wallet[color] += transactionAmountWallet[color];\r\n        newPlayer.coins[color] -= transactionAmountWallet[color];\r\n      }\r\n    }\r\n\r\n    newPlayers[currentPlayerIdx] = newPlayer;\r\n    if (MAX_PLAYER_COINS < newPlayer.coins.sum()) {\r\n      this.setState({\r\n        players: newPlayers,\r\n        bank: newBank,\r\n        lifecycle: newLifecycle.returnCoins,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        players: newPlayers,\r\n        bank: newBank,\r\n        lifecycle: newLifecycle.selectNoble,\r\n        returnCoinsModalOpen: false\r\n      });\r\n    }\r\n  }\r\n\r\n  handleBuyFromBoard(level, column) {\r\n    // todo upgrade: add sidebar where you can choose which coins to spend\r\n    // todo BUG when you have consecutive handlebuy actions, sometimes the bankcoins go negative\r\n    const {\r\n      players,\r\n      currentPlayerIdx,\r\n      bank,\r\n      board,\r\n      decks,\r\n      lifecycle\r\n    } = this.state;\r\n\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.buyFromBoard === undefined) {\r\n      console.log(\"Cannot buy from board in current lifecycle state: \", lifecycle);\r\n    }\r\n\r\n    const currentPlayer = players[currentPlayerIdx];\r\n    const card = board[level][column];\r\n    const chargeAmtWallet = calculateCharge(card, currentPlayer);\r\n\r\n    if (!isAbleToBuy(card, currentPlayer)) {\r\n      alert(\"Insufficient Funds\");\r\n      return;\r\n    }\r\n\r\n    let newLifecycle = lifecycle.buyFromBoard;\r\n    let newPlayers = players.slice();\r\n    let newPlayer = Object.assign(new PlayerBase(), currentPlayer);\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n\r\n    for (let [color, price] of Object.entries(chargeAmtWallet)) {\r\n      newPlayer.coins[color] -= price;\r\n      newBank.wallet[color] += price;\r\n    }\r\n\r\n    newPlayer.cards[card.color].push(card);\r\n    newPlayer.addPoints(card.points);\r\n\r\n    let newDecks = decks.slice();\r\n    let newBoard = board.slice();\r\n    newLifecycle = newLifecycle.replenishBoard;\r\n    newBoard[level][column] = 0 < decks[level].length ? newDecks[level].pop() : null;\r\n\r\n    newPlayers[currentPlayerIdx] = newPlayer;\r\n\r\n    this.setState({\r\n      players: newPlayers,\r\n      bank: newBank,\r\n      decks: newDecks,\r\n      board: newBoard,\r\n      lifecycle: newLifecycle.selectNoble\r\n    });\r\n  }\r\n\r\n  handleBuyFromReservation(index) {\r\n    // todo upgrade: add sidebar where you can choose which coins to spend\r\n    // todo BUG when you have consecutive handlebuy actions, sometimes the bankcoins go negative\r\n    const {\r\n      players,\r\n      currentPlayerIdx,\r\n      bank,\r\n      lifecycle\r\n    } = this.state;\r\n\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.buyFromReservation === undefined) {\r\n      console.log(\"Cannot buy from reservation in current lifecycle state: \", lifecycle);\r\n    }\r\n\r\n    const currentPlayer = players[currentPlayerIdx];\r\n    const card = currentPlayer.reserved[index];\r\n    const chargeAmtWallet = calculateCharge(card, currentPlayer);\r\n\r\n    if (!isAbleToBuy(card, currentPlayer)) {\r\n      alert(\"Insufficient Funds\");\r\n      return;\r\n    }\r\n\r\n    let newLifecycle = lifecycle.buyFromReservation;\r\n    let newPlayers = players.slice();\r\n    let newPlayer = Object.assign(new PlayerBase(), currentPlayer);\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n    // TODO after buying from reserved, close all modals\r\n    for (let [color, price] of Object.entries(chargeAmtWallet)) {\r\n      newPlayer.coins[color] -= price;\r\n      newBank.wallet[color] += price;\r\n    }\r\n\r\n    newPlayer.cards[card.color].push(card);\r\n    newPlayer.addPoints(card.points);\r\n\r\n    newPlayer.reserved.splice(index, 1);\r\n\r\n    newPlayers[currentPlayerIdx] = newPlayer;\r\n\r\n    this.setState({\r\n      players: newPlayers,\r\n      bank: newBank,\r\n      lifecycle: newLifecycle.selectNoble\r\n    });\r\n  }\r\n\r\n  handleReserveFromDeck(level) {\r\n    const {\r\n      players,\r\n      currentPlayerIdx,\r\n      bank,\r\n      decks,\r\n      lifecycle\r\n    } = this.state;\r\n\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.reserveFromDecks === undefined) {\r\n      console.log(\"Cannot reserve from deck in current lifecycle state: \", lifecycle);\r\n    }\r\n\r\n    const currentPlayer = players[currentPlayerIdx];\r\n    if (MAX_PLAYER_RESERVATION <= currentPlayer.reserved.length) {\r\n      alert(\"exceeds max allow reservations\");\r\n      return;\r\n    }\r\n    if (decks[level].length === 0) {\r\n      alert(\"empty deck size: \", decks[level].length);\r\n      return;\r\n    }\r\n\r\n    let newLifecycle = lifecycle.reserveFromDecks;\r\n    let newPlayers = players.slice();\r\n    let newPlayer = Object.assign(new PlayerBase(), currentPlayer);\r\n    let newDecks = decks.slice();\r\n    newPlayer.reserve(newDecks[level].pop());\r\n\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n    if (0 < bank.wallet[WILD]) {\r\n      newLifecycle = newLifecycle.collectCoins;\r\n      newPlayer.coins[WILD]++;\r\n      newBank.wallet[WILD]--;\r\n    }\r\n\r\n    newPlayers[currentPlayerIdx] = newPlayer;\r\n    newLifecycle = MAX_PLAYER_COINS < newPlayer.coins.sum() ? newLifecycle.returnCoins : newLifecycle.selectNoble;\r\n\r\n    this.setState({\r\n      players: newPlayers,\r\n      bank: newBank,\r\n      decks: newDecks,\r\n      lifecycle: newLifecycle\r\n    });\r\n  }\r\n\r\n  handleReserveFromBoard(level, column) {\r\n    const {\r\n      players,\r\n      currentPlayerIdx,\r\n      board,\r\n      bank,\r\n      decks,\r\n      lifecycle\r\n    } = this.state;\r\n\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.reserveFromBoard === undefined) {\r\n      console.log(\"Cannot reserve from board in current lifecycle state: \", lifecycle);\r\n    }\r\n\r\n    const currentPlayer = players[currentPlayerIdx];\r\n    if (MAX_PLAYER_RESERVATION <= currentPlayer.reserved.length) {\r\n      alert(\"exceeds max allow reservations\");\r\n      return;\r\n    }\r\n\r\n    let newLifecycle = lifecycle.reserveFromBoard;\r\n    let newPlayers = players.slice();\r\n    let newPlayer = Object.assign(new PlayerBase(), currentPlayer);\r\n    let newDecks = decks.slice();\r\n    let newBoard = board.slice();\r\n    const card = board[level][column];\r\n    newPlayer.reserve(card);\r\n\r\n    newLifecycle = newLifecycle.replenishBoard;\r\n    newBoard[level][column] = 0 < decks[level].length ? newDecks[level].pop() : null;\r\n\r\n    let newBank = Object.assign(new BankBase(), bank);\r\n    if (0 < bank.wallet[WILD]) {\r\n      newLifecycle = newLifecycle.collectCoins;\r\n      newPlayer.coins[WILD]++;\r\n      newBank.wallet[WILD]--;\r\n    }\r\n\r\n    newPlayers[currentPlayerIdx] = newPlayer;\r\n    newLifecycle = MAX_PLAYER_COINS < newPlayer.coins.sum() ? newLifecycle.returnCoins : newLifecycle.selectNoble;\r\n\r\n    this.setState({\r\n      players: newPlayers,\r\n      bank: newBank,\r\n      decks: newDecks,\r\n      board: newBoard,\r\n      lifecycle: newLifecycle\r\n    });\r\n  }\r\n\r\n  listSelectableNoblemen(player, nobles) {\r\n    return nobles.map(noble => {\r\n      if (!noble.isDisplayed) {\r\n        return false;\r\n      } else {\r\n        for (let color of Object.keys(noble.price)) {\r\n          if (player.cards[color].length < noble.price[color]) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n  }\r\n\r\n  handleNoblemenSelection(nobleIndex) {\r\n    const {\r\n      lifecycle,\r\n      currentPlayerIdx,\r\n      players,\r\n      nobles,\r\n    } = this.state;\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.description !== 'selectNoble') {\r\n      console.log(\"Cannot select Noble in current lifecycle state: \", lifecycle);\r\n      return;\r\n    }\r\n    let newPlayers = players.slice();\r\n    let newPlayer = players[currentPlayerIdx];\r\n    let newNobles = nobles.slice();\r\n    let newNoble = nobles[nobleIndex];\r\n    newNoble.isDisplayed = false;\r\n    newPlayer.addNoble(newNoble);\r\n    newPlayer.addPoints(newNoble.points);\r\n    this.setState({\r\n      players: newPlayers,\r\n      nobles: newNobles,\r\n      selectableNoblemen: [],\r\n      lifecycle: lifecycle.endOfTurn,\r\n      noblemenSelectionOpen: false,\r\n    });\r\n  }\r\n\r\n  handleNextTurn(currentPlayerIdx, numPlayers) {\r\n    if (!this.state.finished) { // next player if game not finished\r\n      this.setState({ currentPlayerIdx: (currentPlayerIdx + 1) % numPlayers });\r\n    }\r\n  }\r\n\r\n  handleEndTurn() {\r\n    const { currentPlayerIdx, numPlayers, lifecycle } = this.state;\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.description !== 'endOfTurn') {\r\n      console.log(\"Cannot end turn in current lifecycle state: \", lifecycle);\r\n      return;\r\n    }\r\n    let nextLifecycle = lifecycle;\r\n    if (currentPlayerIdx + 1 === numPlayers) {\r\n      nextLifecycle = lifecycle.endOfRound;\r\n    } else {\r\n      nextLifecycle = lifecycle.startOfTurn;\r\n    }\r\n    this.setState({\r\n      selectableNoblemen: [],\r\n      currentPlayerIdx: (currentPlayerIdx + 1) % numPlayers,\r\n      lifecycle: nextLifecycle\r\n    });\r\n  }\r\n\r\n  handleEndRound() {\r\n    const {\r\n      players,\r\n      lifecycle,\r\n      pointsToWin\r\n    } = this.state;\r\n    console.log(\"current state: \", lifecycle.description, lifecycle);\r\n    if (lifecycle.description !== 'endOfRound') {\r\n      console.log(\"Cannot end round in current lifecycle state: \", lifecycle);\r\n      return;\r\n    }\r\n    const playerListRanked = rank(players, 'points');\r\n    const isWinner = playerListRanked[0].points >= pointsToWin;\r\n    this.setState({\r\n      lifecycle: isWinner ? lifecycle.endOfGame : lifecycle.startOfTurn\r\n    });\r\n  }\r\n\r\n  handleEndGame() {\r\n    const playerListRanked = rank(this.state.players, 'points');\r\n    alert(playerListRanked.map((player, idx) => `${idx}: ${player.name}`).join(\"\\n\"));\r\n    this.setState({ finished: true });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      board,\r\n      decks,\r\n      players,\r\n      nobles,\r\n      noblemenSelectionOpen,\r\n      selectableNoblemen,\r\n      currentPlayerIdx,\r\n      returnCoinsModalOpen,\r\n      bank,\r\n      finished\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className={'background'}>\r\n        <Container className={'large'}>\r\n          <Grid stackable>\r\n            <Grid.Column width={4}>\r\n              {\r\n                players.map(player => {\r\n                  return (\r\n                    <>\r\n                      <Player\r\n                        player={player}\r\n                        currentPlayerIdx={currentPlayerIdx}\r\n                        finished={finished}\r\n                        handleBuyClick={this.handleBuyFromReservation}\r\n                      />\r\n                      <Divider />\r\n                    </>\r\n                  );\r\n                })\r\n              }\r\n            </Grid.Column>\r\n            <Grid.Column width={2}>\r\n              <Bank\r\n                bank={bank}\r\n                coins={this.state.bank.wallet}\r\n                handleCoinTransaction={this.handleCoinTransaction}\r\n                disabled={finished}\r\n              />\r\n              <ReturnCoinsModal\r\n                coins={players[currentPlayerIdx].coins}\r\n                open={returnCoinsModalOpen}\r\n                handleCoinTransaction={this.handleCoinTransaction}\r\n              />\r\n            </Grid.Column>\r\n            <Grid.Column width={7}>\r\n              <Grid.Row>\r\n                <Noblemen\r\n                  noblemen={nobles}\r\n                  includesList={nobles.map(noble => noble.isDisplayed)}\r\n                />\r\n                <ModalNoblemen\r\n                  noblemen={nobles}\r\n                  includesList={selectableNoblemen}\r\n                  onClick={this.handleNoblemenSelection}\r\n                  open={noblemenSelectionOpen}\r\n                />\r\n              </Grid.Row>\r\n              <Grid.Row>\r\n                <Board\r\n                  board={board}\r\n                  decks={decks}\r\n                  players={players}\r\n                  currentPlayerIdx={currentPlayerIdx}\r\n                  handleBuyFromBoard={this.handleBuyFromBoard}\r\n                  handleReserveFromDeck={this.handleReserveFromDeck}\r\n                  handleReserveFromBoard={this.handleReserveFromBoard}\r\n                  finished={finished}\r\n                />\r\n              </Grid.Row>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <History status={''} />\r\n            </Grid.Column>\r\n          </Grid>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;","import React, { useState } from \"react\";\r\nimport { Button, Container, Dropdown, Grid, Menu, Modal } from \"semantic-ui-react\";\r\nimport { NUM_PLAYERS_LIST, POINTS_TO_WIN_LIST } from \"../constants/defaults\";\r\n\r\nexport default function NavBar(props) {\r\n  const { pointsToWin, numPlayers, createNewGame } = props;\r\n\r\n  return (\r\n    <Menu>\r\n      <Container>\r\n        <Menu.Item header>\r\n          <h1>Splendor</h1>\r\n        </Menu.Item>\r\n        <Menu.Item header>\r\n          <h1>Target: {pointsToWin}</h1>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <ModalNewGame\r\n            numPlayers={numPlayers}\r\n            pointsToWin={pointsToWin}\r\n            createNewGame={createNewGame}\r\n          />\r\n        </Menu.Item>\r\n      </Container>\r\n    </Menu>\r\n  )\r\n}\r\n\r\nfunction ModalNewGame(props) {\r\n  const { numPlayers, pointsToWin, createNewGame } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [localNumPlayers, setLocalNumPlayers] = useState(numPlayers);\r\n  const [localPointsToWin, setLocalPointsToWin] = useState(pointsToWin);\r\n  const getDropdownOptions = (prefix, listOptions) => {\r\n    return listOptions.map(option => {\r\n      return { key: `${prefix}${option}`, text: `${option}`, value: option }\r\n    })\r\n  }\r\n\r\n  const handleConfirm = () => {\r\n    createNewGame(localNumPlayers, localPointsToWin);\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={<Button>New Game</Button>}\r\n    >\r\n      <Modal.Header>New Game Settings</Modal.Header>\r\n      <Modal.Content>\r\n        <Grid\r\n          stackable\r\n          columns={2}\r\n        >\r\n          <Grid.Column>\r\n            {'Number of players: '}\r\n            <Dropdown\r\n              defaultValue={numPlayers}\r\n              selection\r\n              options={getDropdownOptions('players', NUM_PLAYERS_LIST)}\r\n              onChange={(e, { value }) => setLocalNumPlayers(value)}\r\n            />\r\n          </Grid.Column>\r\n          <Grid.Column>\r\n            {'Points to Win: '}\r\n            <Dropdown\r\n              defaultValue={pointsToWin}\r\n              selection\r\n              options={getDropdownOptions('points', POINTS_TO_WIN_LIST)}\r\n              onChange={(e, { value }) => setLocalPointsToWin(value)}\r\n            />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          color='black'\r\n          content=\"Cancel\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n        <Button\r\n          color='blue'\r\n          content=\"Confirm\"\r\n          onClick={() => handleConfirm()}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  )\r\n}","class Price {\r\n  constructor(white, blue, green, red, black) {\r\n    this.white = white;\r\n    this.blue = blue;\r\n    this.green = green;\r\n    this.red = red;\r\n    this.black = black;\r\n  }\r\n}\r\n\r\nexport default Price;","import Price from \"./Price\";\r\n\r\nexport class NobleBase {\r\n  constructor(points, white, blue, green, red, black, isDisplayed) {\r\n    this.points = points;\r\n    this.price = new Price(white, blue, green, red, black);\r\n    this.isDisplayed = isDisplayed;\r\n  }\r\n}","import Price from \"./Price\";\r\n\r\nclass Mine {\r\n  constructor(color, points, white, blue, green, red, black) {\r\n    this.color = color;\r\n    this.points = points;\r\n    this.price = new Price(white, blue, green, red, black);\r\n  }\r\n}\r\n\r\nexport default Mine;","export default class StateMachine {\r\n  constructor() {\r\n    this.endOfGame = {\r\n      description: 'endOfGame'\r\n    };\r\n    this.endOfRound = {\r\n      description: 'endOfRound',\r\n      startOfRound: undefined,\r\n      startOfTurn: undefined,\r\n      endOfGame: this.endOfGame\r\n    }\r\n    this.endOfTurn = {\r\n      description: 'endOfTurn',\r\n      startOfTurn: undefined,\r\n      endOfRound: this.endOfRound\r\n    }\r\n    this.selectNoble = {\r\n      description: 'selectNoble',\r\n      endOfTurn: this.endOfTurn\r\n    }\r\n    this.returnCoins = {\r\n      description: 'returnCoins',\r\n      selectNoble: this.selectNoble,\r\n      endOfTurn: this.endOfTurn\r\n    }\r\n    this.replenishBoard = {\r\n      description: 'replenishBoard',\r\n      returnCoins: this.returnCoins,\r\n      collectCoins: undefined,\r\n      selectNoble: this.selectNoble\r\n    }\r\n    this.buyFromBoard = {\r\n      description: 'buyFromBoard',\r\n      replenishBoard: this.replenishBoard,\r\n    };\r\n    this.buyFromReservation = {\r\n      description: 'buyFromReservation',\r\n      selectNoble: this.selectNoble,\r\n    };\r\n    this.reserveFromBoard = {\r\n      description: 'reserveFromBoard',\r\n      replenishBoard: this.replenishBoard\r\n    }\r\n    this.collectCoins = {\r\n      description: 'collectCoins',\r\n      returnCoins: this.returnCoins,\r\n      selectNoble: this.selectNoble,\r\n      endOfTurn: this.endOfTurn\r\n    }\r\n    this.reserveFromDecks = {\r\n      description: 'reserveFromDecks',\r\n      collectCoins: this.collectCoins,\r\n      selectNoble: this.selectNoble\r\n    }\r\n    this.startOfTurn = {\r\n      description: 'startOfTurn',\r\n      buyFromBoard: this.buyFromBoard,\r\n      buyFromReservation: this.buyFromReservation,\r\n      reserveFromBoard: this.reserveFromBoard,\r\n      reserveFromDecks: this.reserveFromDecks,\r\n      collectCoins: this.collectCoins,\r\n    };\r\n    this.startOfRound = {\r\n      description: 'startOfRound',\r\n      startOfTurn: this.startOfTurn\r\n    }\r\n    this.startOfGame = {\r\n      description: 'startOfGame',\r\n      startOfRound: this.startOfRound\r\n    }\r\n    this.replenishBoard.collectCoins = this.collectCoins;\r\n    this.endOfRound.startOfRound = this.startOfRound;\r\n    this.endOfRound.startOfTurn = this.startOfTurn;\r\n    this.endOfTurn.startOfTurn = this.startOfTurn;\r\n    // this.selector = {\r\n    //   'startOfGame': this.startOfGame,\r\n    //   'startOfRound': this.startOfRound,\r\n    //   'startOfTurn': this.startOfTurn,\r\n    //   'buyFromBoard': this.buyFromBoard,\r\n    //   'buyFromReservation': this.buyFromReservation,\r\n    //   'reserveFromBoard': this.reserveFromBoard,\r\n    //   'reserveFromDecks': this.reserveFromDecks,\r\n    //   'collectCoins': this.collectCoins,\r\n    //   'replenishBoard': this.replenishBoard,\r\n    //   'returnCoins': this.returnCoins,\r\n    //   'selectNoble': this.selectNoble,\r\n    //   'endOfTurn': this.endOfTurn,\r\n    //   'endOfRound': this.endOfRound,\r\n    //   'endOfGame': this.endOfGame\r\n    // }\r\n    // this.state = this.selector[startingState] || this.startOfGame;\r\n  }\r\n}","import { NobleBase } from \"./NobleBase\";\r\nimport { MAX_BANK_COINS, MAX_BOARD_COLS, MAX_BOARD_ROWS } from \"../constants/defaults\";\r\nimport { shuffle } from \"../utils\";\r\nimport Mine from \"./Mine\";\r\nimport cardData from \"../constants/cardData.json\";\r\nimport nobleData from \"../constants/nobleData.json\";\r\nimport BankBase from \"./BankBase\";\r\nimport PlayerBase from \"./PlayerBase\";\r\nimport StateMachine from \"./StateMachine\";\r\n\r\nexport default class GameBase {\r\n  constructor(numPlayers, pointsToWin) {\r\n    this.numPlayers = numPlayers;\r\n    this.pointsToWin = pointsToWin;\r\n    this.players = this.createPlayerBases();\r\n    this.currentPlayerIdx = 0;\r\n    this.bank = new BankBase(numPlayers);\r\n    this.decks = this.createDecks();\r\n    this.board = this.createBoard();\r\n    this.nobles = this.createNobles();\r\n    this.status = 'Not started';\r\n    this.stateMachine = new StateMachine();\r\n  }\r\n\r\n  createPlayerBases() {\r\n    return Array(this.numPlayers).fill(undefined).map((e, idx) => {\r\n      return new PlayerBase(`Player ${idx}`, idx)\r\n    });\r\n  }\r\n\r\n  createCards(cardDataList) {\r\n    return cardDataList.map((\r\n      [color, points, white, blue, green, red, black]\r\n    ) => {\r\n      return new Mine(color, points, white, blue, green, red, black);\r\n    });\r\n  }\r\n\r\n  createDecks() {\r\n    const levels = [\"0\", \"1\", \"2\"];\r\n    return levels.map(level => {\r\n      return shuffle(this.createCards(cardData[level]));\r\n    })\r\n  }\r\n\r\n  createBoard() {\r\n    return Array(MAX_BOARD_ROWS).fill(undefined).map((e, idx) => {\r\n      return Array(MAX_BOARD_COLS).fill(undefined).map(() => {\r\n        const level = idx;\r\n        return this.decks[level].pop();\r\n      })\r\n    });\r\n  }\r\n\r\n  createNobles() {\r\n    let nobles = nobleData.map(([points, white, blue, green, red, black]) => {\r\n      return new NobleBase(points, white, blue, green, red, black, true)\r\n    });\r\n    return shuffle(nobles).slice(0, this.numPlayers + 1);\r\n  }\r\n}","import React from \"react\";\r\nimport Game from \"./Game\";\r\nimport NavBar from \"./NavBar\";\r\nimport { MIN_PLAYERS, MIN_POINTS_TO_WIN } from \"../constants/defaults\";\r\nimport GameBase from \"../objects/GameBase\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numPlayers: MIN_PLAYERS,\r\n      pointsToWin: MIN_POINTS_TO_WIN,\r\n      game: new GameBase(MIN_PLAYERS, MIN_POINTS_TO_WIN)\r\n    }\r\n    this.createNewGame = this.createNewGame.bind(this);\r\n  }\r\n\r\n  createNewGame(numPlayers, pointsToWin) {\r\n    this.setState({\r\n      numPlayers: numPlayers,\r\n      pointsToWin: pointsToWin,\r\n      game: new GameBase(numPlayers, pointsToWin),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      numPlayers,\r\n      pointsToWin,\r\n      game\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <NavBar\r\n          numPlayers={numPlayers}\r\n          pointsToWin={pointsToWin}\r\n          createNewGame={this.createNewGame}\r\n        />\r\n        <Game\r\n          numPlayers={numPlayers}\r\n          pointsToWin={pointsToWin}\r\n          game={game}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport App from './app/App';\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}